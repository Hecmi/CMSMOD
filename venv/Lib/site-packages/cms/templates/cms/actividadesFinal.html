{% extends "admin/base_site.html" %}
{% load i18n l10n cms_tags cms_js_tags %}
{% load i18n static %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/js/all.min.js"></script>

{% block extrastyle %}<link rel="stylesheet" href="{% static "admin/css/login.css" %}">
{{ form.media }}
{% endblock %}

{% block usertools %}{% endblock %}

{% block nav-global %}{% endblock %}

{% block nav-sidebar %}{% endblock %}

{% block content_title %}{% endblock %}

{% block nav-breadcrumbs %}{% endblock %}

{% block content %}

<form id="" action="{% url 'update_groups' 1 %}" method="POST">
    {% csrf_token %}
    {% if error %}
        <div class="form-row">
            {{ error }}           
        </div>
    {% endif %}

    {% if grupos %}
         <label><b>ASIGNACIONES:<b></label>
          <table style="width: 100%;  border: 1px solid grey;">
            <thead style="border: 1px solid grey;">
              <th>{% trans 'Group Number:' %}</th>
              <th>{% trans 'Task:' %}</th>
              <th>{% trans 'Username:' %}</th>
              <th>{% trans 'Calification:' %}</th>
            </thead>
            <tbody>
              {% for grupo in grupos %}
                <tr style="border: 1px solid grey;">
                    <td>
                        <input type="text" value="{{grupo.group_number}}" disabled/>
                        <input name="p_group_number" type="hidden" value="{{grupo.group_number}}"/>
                    </td>
                    <td>
                        <input type="text" value="{{grupo.tasks}}" disabled/>
                        <input name="p_task_name" type="hidden" value="{% for tarea in grupo.tarea %}{{grupo.task}}{% endfor %}"/>
                    </td>
                    <td>
                      <input type="text"value="{{grupo.username}}" disabled/>
                      <input name="p_username" type="hidden" value="{{grupo.username}}"/>
                    </td>
                    <td>
                      <input name="p_calification" type="number" min=0 max=10 value="{{grupo.calification}}" />
                    </td>
                </tr>
              {% endfor %}
            </tbody>          
        </table>            
    {% endif %}


  <style>
    .form-row-mod {
      display: flex;
      align-items: center;
    }

    #ver {
      padding: 8px;
      width: 100%;
      box-sizing: border-box;
    }
  
    .password-wrapper {
      flex-grow: 1;
    }
  
    button {
      margin-left: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      background: none;
      padding: 0;
    }

    .fila {
      justify-content: space-between;
      display: flex;
    }

    .item {
      padding: 10px;
    }
  </style>

  <div class="submit-row">
      {% if grupos %}
      <div class="fila">
        <input name="Save" type="submit" class="cms-btn-action" 
          data-url="{% url 'save' 1 %}" value="{% translate 'Save' %}">        
      </div>
      {% endif %}
      <div class="fila">
        <a  class="cms-btn-action" href="{% url 'generate_group_base' url='1' %}">{% translate 'Backtrack' %}</a>
      </div>
  </div> 

</form>

{% endblock %}
